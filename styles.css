
*{box-sizing:border-box}
html,body{margin:0;height:100%;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:#0b0e13;color:#fff;overflow:hidden}
#app{position:relative;height:100%;width:100%}
.hidden{display:none !important}
button{font-size:1.4rem;padding:16px 24px;border:0;border-radius:12px;background:#2a7fff;color:#fff;cursor:pointer}
button:active{transform:scale(0.98)}
.header{position:absolute;top:0;left:0;right:0;height:96px;display:flex;align-items:center;justify-content:space-between;padding:16px 24px;background:linear-gradient(180deg,rgba(0,0,0,.6),rgba(0,0,0,0))}
.lang-toggle{display:flex;gap:8px}
.lang-toggle button{background:rgba(255,255,255,.1)}
.screen{position:absolute;inset:0;display:flex;flex-direction:column}
.centered{display:flex;flex:1;align-items:center;justify-content:center}
.welcome{background:radial-gradient(ellipse at center, #0e1b2b 0%, #070b10 60%);position:relative;overflow:hidden}
.globe{position:absolute;inset:0;opacity:.4;background-image: radial-gradient(50% 50% at 50% 50%, rgba(60,120,255,0.5) 0%, rgba(0,0,0,0) 70%);animation:pulse 6s infinite alternate}
@keyframes pulse{from{transform:scale(1)}to{transform:scale(1.2)}}
.welcome-card{background:rgba(0,0,0,.5);padding:40px;border-radius:24px;text-align:center;max-width:1200px}
.welcome-card h1{font-size:3.4rem;margin:0 0 24px}
.grid{display:grid;grid-template-columns:repeat(4,1fr);gap:16px;padding:120px 32px 32px;overflow:auto}
.card{background:#121821;border:1px solid #1c2430;border-radius:16px;padding:20px;min-height:180px;cursor:pointer;display:flex;flex-direction:column;justify-content:space-between}
.card-title{font-size:1.6rem;line-height:1.2}
.map-wrap{position:relative;flex:1;display:flex}
.map-stage{position:relative;flex:1;overflow:hidden;background:#06090f;border-top:1px solid #1b2330}
.map-inner{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);will-change:transform;touch-action:none}
.map-inner img{max-width:none;display:block;user-select:none;-webkit-user-drag:none}
.marker{position:absolute;transform:translate(-50%,-50%);z-index:3;background:#2a7fff;border:2px solid rgba(255,255,255,.8);color:#fff;width:44px;height:44px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;box-shadow:0 6px 16px rgba(0,0,0,.4)}
.marker.pulse{animation: ping 1.6s infinite}
@keyframes ping{0%{box-shadow:0 0 0 0 rgba(42,127,255,.5)}100%{box-shadow:0 0 0 24px rgba(42,127,255,0)}}
.side{width:540px;background:#0f151e;border-left:1px solid #1b2330;display:flex;flex-direction:column}
.side h2{padding:16px 20px;margin:0;border-bottom:1px solid #1b2330}
.list{flex:1;overflow:auto;padding:8px 12px}
.list-item{background:#111824;border:1px solid #1c2430;border-radius:12px;padding:12px 12px;margin:8px 0;display:flex;gap:12px;align-items:center;cursor:pointer}
.badge{width:40px;height:40px;border-radius:50%;background:#2a7fff;color:#fff;font-weight:700;display:flex;align-items:center;justify-content:center}
.detail{padding:24px;overflow:auto}
.detail h3{font-size:2.2rem;margin:12px 0}
.detail .meta{opacity:.9;line-height:1.6}
.toolbar{position:absolute;bottom:16px;right:16px;display:flex;gap:8px;z-index:5}
.footer-hint{position:absolute;left:24px;bottom:20px;opacity:.6}
.back-btn{background:rgba(255,255,255,.1)}
.home-btn{background:rgba(255,255,255,.1)}
[dir="rtl"] .header{direction:rtl}
[dir="rtl"] .grid{direction:rtl}
[dir="rtl"] .side{border-left:none;border-right:1px solid #1b2330}
[dir="rtl"] .toolbar{right:auto;left:16px}
.hidden-cursor{cursor:none}
#mapZoom{transform-origin:0 0; will-change:transform}
#mapZoom img{display:block; max-width:none; user-select:none; -webkit-user-drag:none}

/* Welcome globe fixes */
.welcome-card{position:relative; z-index:2}
.globe{position:absolute; inset:0; opacity:.45; pointer-events:none;}

button{touch-action:manipulation}
